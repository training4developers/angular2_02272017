<!DOCTYPE html>

<html>
  <head>
    <base href="/">
    <title>Welcome to Angular 2!</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <main>Loading...</main>

    <script>


        // function getLocation() {
        //     return new Promise((resolve, reject) => {
        //         navigator.geolocation.getCurrentPosition(position => {
        //             resolve(postion);
        //         });
        //     })
        // }


        // function getRestaurants(location) {

        //     return new Promise((resolve, reject) => {

        //         const xhr = new XMLHttpRequest();
        //         xhr.addEventListener("readystatechange", function() {

        //             if (xhr.status === 200 && xhr.readyState === 4) {
        //                 resolve(JSON.parse(xhr.responseText));
        //             }

        //         });

        //         xhr.open("get", "http://localhost/getrestaurants/"+ location);
        //         xhr.send();

        //     });

        // }

        // getLocation()
        //     .then(position => getRestaurants(position))
        //     .then((results) => console.log(results));

        // var x = document.getElementById("demo");
        // function getLocation() {
        //     if (navigator.geolocation) {
        //         navigator.geolocation.getCurrentPosition(showPosition);
        //     } else {
        //         x.innerHTML = "Geolocation is not supported by this browser.";
        //     }
        // }
        // function showPosition(position) {
        //     x.innerHTML = "Latitude: " + position.coords.latitude + 
        //     "<br>Longitude: " + position.coords.longitude; 
        // }


        // const p1 = new Promise(resolve => setTimeout(() => resolve('a'), 2000));
        // const p2 = new Promise(resolve => setTimeout(() => resolve('b'), 4000));
        // const p3 = new Promise((resolve, reject) => setTimeout(() => reject('c'), 6000));
        // const p4 = new Promise(resolve => setTimeout(() => resolve('d'), 8000));

        // p1.then(results => console.log(results));
        // p2.then(results => console.log(results));
        // p3.then(results => console.log(results))
        //     .catch(results => console.log('rejected', results));
        // p4.then(results => console.log(results));

        // Promise.all([p1,p2,p3,p4]).then(results => {
        //     console.log('all done');
        //     console.log(results);
        // }).catch(results => {
        //     console.log('one failed');
        //     console.log(results);
        // });


    </script>

  </body>
</html>
